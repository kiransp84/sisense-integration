<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Login Page of Parent App</title>
    <link rel="stylesheet" href="style.css">
	<script>
	function login() {
		var promise = fetch("/login",{ 
		method: "POST" , 
		headers: { "Content-Type" : "application/json;charset=utf-8"} , 
		body : JSON.stringify({ username : document.getElementById("username").value })
		}
		).then(()=>{
			window.location = '/home.html';
		}); 

		// call the SSO handler 
		/*var promise = fetch("/ssohandler",{ 
		method: "POST" , 
		headers: { "Content-Type" : "application/json;charset=utf-8"} , 
		body : JSON.stringify({ 
			username : document.getElementById("username").value ,
			redirectTo : encodeURIComponent(new URLSearchParams(window.location.search).get("return_to"))
		})
		}
		).then((response)=>{
			alert('login call returned back ');
			return response.json();
		}).then((response)=>{
			if(response.status == 'LOGIN_SUCCESS')
				window.location.href = response.redirectUrl;
		}); */
	}
	</script>
</head>

<body>

	
    <label>User Name</label>
	<input id="username" type="text" name="username"></input>
	<button type="button" onClick="login()">Login</button>



</body>

</html>